/*!CK:29907173!*//*1427087450,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["rZ857"]); }

__d("legacy:control-textarea",["TextAreaControl"],function(a,b,c,d){b.__markCompiled&&b.__markCompiled();a.TextAreaControl=b('TextAreaControl');},3);
__d("IntlInlineTranslations",["AsyncRequest","CSS","DOM","Event","Vector"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=500;function m(r){while(r.parentNode){if(h.hasClass(r,'intl-prototype-translatable')||h.hasClass(r,'intl-prototype-contributed')||h.hasClass(r,'intl-prototype-translated')||h.hasClass(r,'intl-prototype-approved')||h.hasClass(r,'intl-prototype-approvable')||h.hasClass(r,'intl-prototype-autoapproved')||h.hasClass(r,'intl-prototype-iapproved')||h.hasClass(r,'intl-prototype-complained')||h.hasClass(r,'intl-prototype-complainable')||h.hasClass(r,'intl-prototype-unvotable')||h.hasClass(r,'intl-prototype-votable'))return r;r=r.parentNode;}return null;}function n(r){var s=r.getAttribute('data-intl-hash'),t=r.getAttribute('data-intl-locale'),u=r.getAttribute('data-intl-app'),v=r.getAttribute('data-intl-trid'),w=r.getAttribute('data-intl-project'),x=k.getViewportDimensions().x;new g('/translations/inline/dialog.php').setData({hash:s,project:w,loc:t,appid:u,trid:v,showApp:x<l}).setRelativeTo(r).send();}function o(r){if(!r.isRightClick()&&!r.getModifiers().control)return;var s=m(r.getTarget());if(!s)return;s.oncontextmenu=function(){return false;};n(s);}function p(r,s,t){var u=i.scry(document.body,'em[data-intl-hash="'+s+'"]');u.filter(function(v){return (v.getAttribute('data-intl-app')==r&&v.getAttribute('data-intl-locale')==t&&!h.hasClass(v,'intl-ignore-update'));});return u;}var q={bindListeners:function(){j.listen(document.body,'mousedown',o);},updateTranslations:function(r,s,t){var u=p(t,r,s);u.forEach(function(v){var w={translatable:'contributed',approvable:'iapproved',votable:'voted',unvotable:'voted',complainable:'complained'};for(var x in w)if(h.hasClass(v,'intl-prototype-'+x)){h.removeClass(v,'intl-prototype-'+x);h.addClass(v,'intl-prototype-'+w[x]);}});}};e.exports=q;},null);